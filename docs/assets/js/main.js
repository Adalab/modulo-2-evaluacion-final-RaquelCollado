"use strict";const inputElement=document.querySelector(".js-input"),btnElement=document.querySelector(".js-btn"),serieSection=document.querySelector(".js-ulseries"),favoriteSection=document.querySelector(".js-ulFavorites");let serieList=[],serieFavorite=[];const serieLS=JSON.parse(localStorage.getItem("serie"));function handleClick(e){e.preventDefault(),serieSection.innerHTML="";const t=inputElement.value;fetch("//api.tvmaze.com/search/shows?q="+t).then(e=>e.json()).then(e=>{serieList=e;for(const t of e){const e="//via.placeholder.com/210x295/ffffff/666666/?text=TV",i=t.show.image&&t.show.image.medium?t.show.image.medium:e;serieSection.innerHTML+=`<li id=${t.show.id} class="card js-card" ><img class="image" src=${i} alt=""><h2>${t.show.name}</h2></li>`}addEventToSeries()})}function handleFavorites(e){e.preventDefault();const t=parseInt(e.currentTarget.id);serieFavorite=serieList.find(e=>e.show.id===t),e.currentTarget.classList.add("cardFavorite"),e.currentTarget.classList.remove("card");const i=serieFavorite.show.image&&serieFavorite.show.image.medium?serieFavorite.show.image.medium:"//via.placeholder.com/210x295/ffffff/666666/?text=TV";favoriteSection.innerHTML+=`<li id=${serieFavorite} class="card js-card" ><img class="image" src=${i} alt=""><h2>${serieFavorite.show.name}</h2></li>`,localStorage.setItem("serie",JSON.stringify(serieFavorite))}function addEventToSeries(){const e=document.querySelectorAll(".js-card");for(const t of e)t.addEventListener("click",handleFavorites)}btnElement.addEventListener("click",handleClick);